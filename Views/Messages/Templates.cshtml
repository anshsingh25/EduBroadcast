@model IReadOnlyList<EduBroadcast.Models.MessageTemplate>
@{
        Layout = "~/Views/Shared/_Layout.cshtml";
        ViewData["Title"] = "Quick Message - Templates";
}
<div class="row">
        <div class="col-md-8">
                <h2 class="reveal">Message Templates</h2>
                @await Html.PartialAsync("~/Views/Shared/_Alerts.cshtml")
                @if (Model == null || Model.Count == 0)
                {
                        <div class="empty-state reveal">
                                <div class="icon"><i class="bi bi-layout-text-sidebar"></i></div>
                                <p class="mb-1">No templates yet.</p>
                                <p class="sc-muted mb-0">Use the form to create your first message template.</p>
                        </div>
                }
                else
                {
                        <div class="card reveal">
                                <div class="table-responsive">
                                        <table class="table table-striped table-hover align-middle mb-0">
                                                <thead><tr><th>Title</th><th>Body</th><th style="width:1%"></th></tr></thead>
                                                <tbody>
                                                @foreach (var t in Model)
                                                {
                                                        <tr>
                                                                <td>@t.Title</td>
                                                                <td>@t.Body</td>
                                                                <td>
                                                                        <form method="post" asp-action="DeleteTemplate" class="d-inline">
                                                                                <input type="hidden" name="id" value="@t.Id" />
                                                                                <button class="btn btn-sm btn-outline-danger">Delete</button>
                                                                        </form>
                                                                </td>
                                                        </tr>
                                                }
                                                </tbody>
                                        </table>
                                </div>
                        </div>
                }
                <a class="btn btn-primary mt-3 reveal" href="/Messages/Broadcast">Go to Broadcast</a>
        </div>
        <div class="col-md-4">
                <h4>Add Template</h4>
                <form method="post" asp-action="AddTemplate" class="card card-body reveal">
                        <div class="mb-2">
                                <label class="form-label">Title</label>
                                <input class="form-control" name="title" required />
                        </div>
                        <div class="mb-2">
                                <label class="form-label">Body</label>
                                <textarea class="form-control" name="body" rows="4" required></textarea>
                        </div>
                        <button class="btn btn-success">Save</button>
                </form>
        </div>
</div>


